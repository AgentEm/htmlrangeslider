$(document).ready(function(){function n(n){var e=c.offset(),o=n-e.left;return o/c.width()}function e(){var n=c.val();if(console.log("change handled",n),t!==n){t=n;var e=n/i,o=100*e+"%";$(".range-fill").css("width",o),c.hide().show(0)}}function o(o){return function(t){if(1===t.which||0===t.which){console.log("move event",t);var a,r=t.originalEvent.clientX||t.originalEvent.changedTouches[0].clientX,l=n(r);a=l*i,o&&(a=Math.round(a)),c.val(a),e(t)}}}var t,c=$("input[type=range]"),i=parseInt(c.attr("max"));c.on("touchend mouseup click",o("snap")),c.on("touchmove mousemove click",o())});