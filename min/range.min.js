$(document).ready(function(){function n(n){var o=a.offset(),e=n-o.left;return e/a.width()}function o(){var n=a.val();if(console.log("change handled",n),t!==n){t=n;var o=n/c,e=100*o+"%";$(".range-fill").css("width",e),a.hide().show(0)}}function e(o,e){var t,a=o.originalEvent.clientX||o.originalEvent.changedTouches[0].clientX,i=n(a);t=i*c,e&&(t=Math.round(t)),console.log("syncing val",t),$(this).val(t)}var t,a=$("input[type=range]"),c=parseInt(a.attr("max"));a.on("touchend mouseup click",function(n){e(n,"snap")}),a.on("touchmove mousemove click",e),a.on("change",o)});