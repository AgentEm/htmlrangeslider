$(document).ready(function(){function e(e){var n=c.offset(),t=e-n.left;return t/c.width()}function n(){var e=c.val();if(console.log("change handled",e),i!==e){i=e;var n=e/r,t=100*n+"%";$(".range-fill").css("width",t),c.hide().show(0)}}function t(){a=(new Date).getTime()}function o(o){return function(i){var u=(new Date).getTime(),v=u-a,f=400;if(console.log("timeDiff",v),v>f&&(1===i.which||l.test(i.type))){console.log("move event",i);var h,s=i.originalEvent.clientX||i.originalEvent.changedTouches[0].clientX,g=e(s);h=g*r,o&&(h=Math.round(h),t()),c.val(h),n(i)}}}var i,a,c=$("input[type=range]"),r=parseInt(c.attr("max"));t();var l=/^touch/;c.on("touchend mouseup click",o("snap")),c.on("touchmove mousemove click",o())});