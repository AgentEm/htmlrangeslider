$(document).ready(function(){function n(n){var e=i.offset(),t=n-e.left;return t/i.width()}function e(){var n=i.val();if(console.log("change handled",n),o!==n){o=n;var e=n/c,t=100*e+"%";$(".range-fill").css("width",t),i.hide().show(0)}}function t(t){return function(o){if(1===o.which||0===o.which){var a,r=o.originalEvent.clientX||o.originalEvent.changedTouches[0].clientX,u=n(r);a=u*c,t&&(a=Math.round(a)),i.val(a),e(o)}}}var o,i=$("input[type=range]"),c=parseInt(i.attr("max"));i.on("touchend mouseup click",t("snap")),i.on("touchmove mousemove click",t())});