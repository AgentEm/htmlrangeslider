$(document).ready(function(){function e(e){var n=i.offset(),t=e-n.left;return t/i.width()}function n(){var e=i.val();if(console.log("change handled",e),o!==e){o=e;var n=e/a,t=100*n+"%";$(".range-fill").css("width",t),i.hide().show(0)}}function t(t){return function(o){var r=(new Date).getTime();if(r-c>100&&(1===o.which||0===o.which)){console.log("move event",o);var l,u=o.originalEvent.clientX||o.originalEvent.changedTouches[0].clientX,h=e(u);l=h*a,t&&(l=Math.round(l),c=(new Date).getTime()),i.val(l),n(o)}}}var o,i=$("input[type=range]"),a=parseInt(i.attr("max")),c=(new Date).getTime();i.on("touchend mouseup click",t("snap")),i.on("touchmove mousemove click",t())});