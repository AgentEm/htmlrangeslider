$(document).ready(function(){function n(n){var o=c.offset(),e=n-o.left;return e/c.width()}function o(n){if(console.log("change handled",n),t!==n){t=n;var o=n/i,e=100*o+"%";$(".range-fill").css("width",e),c.hide().show(0)}}function e(o,e){var t,c=o.originalEvent.clientX||o.originalEvent.changedTouches[0].clientX,a=n(c);t=a*i,e&&(t=Math.round(t)),console.log("syncing val",t),$(this).val(t)}var t,c=$("input[type=range]"),i=parseInt(c.attr("max"));c.on("touchend mouseup click",function(n){e(n,"snap")}),c.on("touchmove mousemove click",e),c.on("change",o)});