$(document).ready(function(){function n(n){var e=a.offset(),o=n-e.left;return o/a.width()}function e(){var n=a.val();if(console.log("change handled",n),t!==n){t=n;var e=n/c,o=100*e+"%";$(".range-fill").css("width",o),a.hide().show(0)}}function o(e,o){var t,a=e.originalEvent.clientX||e.originalEvent.changedTouches[0].clientX,i=n(a);t=i*c,o&&(t=Math.round(t)),$(this).val(t)}var t,a=$("input[type=range]"),c=parseInt(a.attr("max"));a.on("touchend mouseup click",function(n){o(n,"snap")}),a.on("touchmove mousemove click",o),a.on("change",e)});